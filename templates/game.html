<!DOCTYPE html>
<html lang="en">

<head>
	<title>Game</title>
	{% load static %}
	<link rel="stylesheet" href="{% static 'game.css' %}">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
	<h1>Game ID: {{game.id}}</h1>
	<div class="info">
		<h2>Player A</h2>
		<h2>Player B</h2>
	</div>


	{% if game.userRole == "A" %}
		<div class="info">
			<p>{{user}}</p>
			<p>{{game.agent}}</p>
		</div>
		<div class='moves'>
			<div class="user">
				<form type="range" id="djangoForm" method="POST">
					{% csrf_token %} 
					{{form.as_p}}
				</form>
			</div>
			<div class="send">
				<input class="send" type="submit" id="submitButton" form="djangoForm" value="send 0"/>
			</div>
			<div class='agent'>
				{% if game.agentMove is not None %}
					<p class="right">{{game.agentMove}}</p>
				{% endif %}
			</div>
		</div>
		<div class="info">
			<p>moves: {{game.userMoves}}</p>
			<p>moves: {{game.agentMoves}}</p>
		</div>

	{% else %}
		<div class="info">
			<p>{{game.agent}}</p>
			<p>{{user}}</p>
		</div>
		<div class='moves'>
			<div class='agent'>
				{% if game.agentMove is not None %}
					<p class="left">{{game.agentMove}}</p>
				{% endif %}
			</div>
			<div class="send">
				<input class="send" type="submit" id="submitButton" form="djangoForm" value="send 0"/>
			</div>
			<div class="user">
				<form type="range" id="djangoForm" method="POST">
					{% csrf_token %} 
					{{form.as_p}}
				</form>
			</div>
		</div>
		<div class="info">
			<p>moves: {{game.agentMoves}}</p>
			<p>moves: {{game.userMoves}}</p>
		</div>		
	{% endif %}

<script type="text/javascript">
	function updateSend(val) {
		document.getElementById('submitButton').value = "send "+val; 
	}
</script>
</body>
</html>
